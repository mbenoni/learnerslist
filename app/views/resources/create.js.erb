<% if @resource.valid? %>
  $(".error-explanation").remove();
  $("<%= j(render @resource) %>").hide()
                                 .prependTo(".resources-list")
                                 .fadeIn("slow");
  $("#new_resource")[0].reset();
<% end %>

<% if @resource.errors.any? %>
  console.log("error detected");
  $(".error-explanation").remove();
  $("<%= j(render 'shared/error_messages', object: @resource) %>")
  .prependTo("#new_resource");
<% end %>

$(".flash-container").html("<%= j(render 'shared/flash') %>");
