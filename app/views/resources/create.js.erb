<% if @resource.valid? %>
  $(".error-explanation").remove();
  $("<%= j(render @resource) %>").hide()
                                 .prependTo(".resources-list")
                                 .fadeIn("slow");
  // Empty form fields
  $("#new_resource")[0].reset();
  // Fade out flash after a few seconds
  $("<%= j(render 'shared/flash') %>").prependTo("body")
                                      .fadeIn("slow")
                                      .delay(2500)
                                      .fadeOut("slow");
<% end %>

<% if @resource.errors.any? %>
  console.log("error detected");
  $(".error-explanation").remove();
  $("<%= j(render 'shared/error_messages', object: @resource) %>")
  .prependTo("#new_resource");
<% end %>
